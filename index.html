<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>The Soul Expanding Ocean</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      type="text/css"
      href="./intro_with_mic.css"
      media="screen"
    />
    <style>
      @font-face {
        font-family: "Amare Alta";
        font-style: normal;
        font-weight: 800;
        src: url("./fonts/Amare-Alta.otf") format("opentype");
        src: url("./fonts/Amare-Alta.eot") format("embedded-opentype"),
          url("./fonts/Amare-Alta.eot?#iefix") format("embedded-opentype"),
          url("./fonts/Amare-Alta.woff") format("woff"),
          url("./fonts/Amare-Alta.ttf") format("truetype");
      }
      @font-face {
        font-family: "Amare Medium";
        font-style: normal;
        font-weight: 400;
        src: url("./fonts/Amare-Medium.otf") format("opentype");
        src: url("./fonts/Amare-Medium.eot") format("embedded-opentype"),
          url("./fonts/Amare-Medium.eot?#iefix") format("eot"),
          url("./fonts/Amare-Medium.woff") format("woff"),
          url("./fonts/Amare-Medium.ttf") format("truetype");
      }
      @font-face {
        font-family: "Amare Linnea";
        font-style: normal;
        font-weight: 100;
        src: url("./fonts/Amare-Linnea.otf") format("opentype");
        src: url("./fonts/Amare-Linnea.eot") format("embedded-opentype"),
          url("./fonts/Amare-Linnea.eot?#iefix") format("embedded-opentype"),
          url("./fonts/Amare-Linnea.woff") format("woff"),
          url("./fonts/Amare-Linnea.ttf") format("truetype");
      }
      @font-face {
        font-family: "Roboto Mono";
        font-style: normal;
        font-weight: 400;
        src: url("./fonts/RobotoMono-Regular.otf") format("opentype");
        src: url("./fonts/RobotoMono-Regular.eot") format("embedded-opentype"),
          url("./fonts/RobotoMono-Regular.eot?#iefix")
            format("embedded-opentype"),
          url("./fonts/RobotoMono-Regular.woff") format("woff"),
          url("./fonts/RobotoMono-Regular.ttf") format("truetype");
      }
    </style>
  </head>
  <body>
    <main class="hidden">
      <div id="intro">
        <div id="intro-message" class="message">
          <span
            >Hello, wanderer! You have landed at the digital shore of
            <i>The Soul Expanding Ocean #1: Taloi Havini</i>.</span
          >
        </div>
        <div id="intro-feedback" class="feedback start">
          <div class="space">
            <button onclick="passIntro()">I WANT TO KNOW MORE</button>
          </div>
        </div>
      </div>
      <div id="participation" class="hidden">
        <div id="participation-message" class="message">
          <span
            >Everything on this island revolves around an
            <i>Answer to the Call</i>.<br />
            Here is a welcome call for you.
          </span>
          <div class="audio">
            <div class="audio-controls">
              <div class="audio-wave"></div>
              <div class="audio-state">
                <svg
                  fill="#6f00ff"
                  viewBox="0 0 448 512"
                  height="1.5em"
                  width="1.5em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                  ></path>
                </svg>
                <svg
                  class="hide"
                  fill="#6f00ff"
                  viewBox="0 0 448 512"
                  height="1.5em"
                  width="1.5em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                  ></path>
                </svg>
              </div>
              <div class="title-time">
                <span class="ultralighter">
                  ATTC Kuakumba Bird of Paradise (0:19)</span
                >
              </div>
              <audio
                preload="false"
                src="./nodes/sound/ATTC Kuakumba Bird of Paradise 30 sec sample.mp3"
              ></audio>
            </div>
          </div>
        </div>
        <div id="participation-feedback" class="feedback">
          <div class="space">
            <button onclick="passParticipation()">I'D LIKE TO ANSWER</button>
          </div>
          <div class="space">
            <button class="skip" onclick="goToContent('yes')">SKIP</button>
          </div>
        </div>
      </div>
      <div id="recording" class="hidden">
        <div id="recording-message" class="message">
          <span
            >Respond with your voice. Use it freely - sing, speak, shout, make
            noise, laugh...<br
          /></span>
          <span class="lighter">
            &#x2a; Don't worry, you are not being recorded, so don't be afraid
            to sing. 5 seconds are enough &#128521;
          </span>
        </div>
        <div id="recording-feedback" class="feedback">
          <div class="space">
            <button id="start-recording" onclick="startRecording()">
              LET'S DO IT
            </button>
          </div>
          <div class="space">
            <button
              class="skip"
              id="skip-recording"
              onclick="goToContent('yes')"
            >
              SKIP
            </button>
          </div>
        </div>
      </div>
      <div class="S1 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
              tincidunt nunc vitae velit semper efficitur. Nulla facilisis neque
              venenatis mollis faucibus. Pellentesque habitant morbi tristique
              senectus et netus et malesuada fames ac turpis egestas. Morbi non
              tellus non massa semper dapibus in eu neque. Quisque ullamcorper
              dictum nibh, auctor viverra ex varius eget. Nulla facilisi.
              Praesent vel sapien risus. Duis vitae fermentum enim. Quisque sed
              est euismod, scelerisque nunc non, egestas turpis. Integer quis
              nibh faucibus, posuere arcu et, congue justo. Sed nec porttitor
              tortor. Nulla fermentum erat sed leo ullamcorper, et pellentesque
              urna laoreet. Proin congue ut tortor non posuere.</span
            >
          </div>
        </div>
      </div>
      <div class="S2 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
              tincidunt nunc vitae velit semper efficitur. Nulla facilisis neque
              venenatis mollis faucibus. Pellentesque habitant morbi tristique
              senectus et netus et malesuada fames ac turpis egestas. Morbi non
              tellus non massa semper dapibus in eu neque. Quisque ullamcorper
              dictum nibh, auctor viverra ex varius eget. Nulla facilisi.
              Praesent vel sapien risus. Duis vitae fermentum enim. Quisque sed
              est euismod, scelerisque nunc non, egestas turpis. Integer quis
              nibh faucibus, posuere arcu et, congue justo. Sed nec porttitor
              tortor. Nulla fermentum erat sed leo ullamcorper, et pellentesque
              urna laoreet. Proin congue ut tortor non posuere. Quisque interdum
              sem lacus, eget imperdiet risus bibendum vitae. Duis luctus nulla
              sed turpis ultrices accumsan. Fusce volutpat gravida leo nec
              elementum. Mauris laoreet velit in sapien gravida, a tempus urna
              pharetra. Curabitur fringilla placerat eros, ut sodales
              turpis.</span
            >
          </div>
        </div>
      </div>
      <div class="S3 node hidden">
        <div class="video">
          <iframe title="Hyena lullaby" frameborder="0" scrolling="no"/></iframe>
          <div class="close"></div>
        </div>
      </div>
      <div class="S4 node hidden">
        <div class="video">
          <iframe
            id="S4_video"
            src="https://www.youtube.com/embed/iIkl9-6qINk?playlist=iIkl9-6qINk&autoplay=0&rel=0&enablejsapi=1"
            title="Answering the call of the ocean: Artist Taloi Havini explores the sound of the sea"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            scrolling="no"
          ></iframe>

          <div class="close"></div>
        </div>
      </div>
      <div class="S6 node hidden">
        <div class="audio">
          <div class="audio-controls">
            <div class="audio-wave"></div>
            <div class="audio-state">
              <svg
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                ></path>
              </svg>
              <svg
                class="hide"
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                ></path>
              </svg>
            </div>
            <div class="title-time"><span class="ultralighter"></span></div>
            <audio
              preload="false"
              src="./nodes/sound/ATTC Kuakumba Bird of Paradise 30 sec sample.mp3"
            ></audio>
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S7 node hidden">
        <div class="audio">
          <div class="audio-controls">
            <div class="audio-wave"></div>
            <div class="audio-state">
              <svg
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                ></path>
              </svg>
              <svg
                class="hide"
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                ></path>
              </svg>
            </div>
            <div class="title-time"><span class="ultralighter"></span></div>
            <audio
              preload="false"
              src="./nodes/sound/ATTC Ocarina and Panpipe 30 sec sample.mp3"
            ></audio>
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S8 node hidden">
        <div class="audio">
          <div class="audio-controls">
            <div class="audio-wave"></div>
            <div class="audio-state">
              <svg
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                ></path>
              </svg>
              <svg
                class="hide"
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                ></path>
              </svg>
            </div>
            <div class="title-time"><span class="ultralighter"></span></div>
            <audio
              preload="false"
              src="./nodes/sound/ATTC Ocean Meditation 30 sec sample.mp3"
            ></audio>
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S10 node hidden">
        <div class="video">
          <video
            controls="controls"
            class="video-source"
            preload="metadata"
            poster="./nodes/vid/reduced/Aca_Taloi_Context_x264_003.png"
          >
            <source
              src="./nodes/vid/reduced/Aca_Taloi_Context_x264_003.mp4"
              type="video/mp4"
            />
          </video>
          <div class="close"></div>
        </div>
      </div>
      <div class="S12 node hidden">
        <div class="image-action">
          <img
            style=""
            class="hidden"
            src="./nodes/images/bougainville_island.png"
          />
          <div class="close hidden"></div>
        </div>
      </div>
      <div class="S15 node hidden">
        <div class="video-rev">
          <video
            controls
            class="video-source"
            preload="auto"
            poster="./nodes/vid/reduced/Snippet_1_.png"
            loop
            playsinline
            webkit-playsinline
            xmlns="http://www.w3.org/2000/svg"
          >
            <source
              src="./nodes/vid/reduced/Snippet_1_.webm"
              type="video/webm"
            />
            <source src="./nodes/vid/Taloi 1b_sound.mp4" type="video/mp4" />
          </video>
          <div class="close"></div>
        </div>
        <div class="island-rev hidden">
          <svg
            viewBox="0 0 1920 1080"
            preserveAspectRatio="xMidYMid slice"
            height="100%"
            width="100%"
          >
            <g>
              <path
                d="M0 5400 l0 -5400 9600 0 9600 0 0 5400 0 5400 -9600 0 -9600 0 0
          -5400z m12819 3671 c66 -22 158 -69 320 -163 124 -72 318 -180 431 -241 112
          -60 265 -147 340 -194 230 -146 317 -195 570 -320 469 -233 678 -381 1036
          -738 141 -141 222 -228 618 -670 160 -179 210 -231 362 -376 146 -140 305
          -265 559 -438 170 -116 231 -170 286 -255 49 -75 77 -149 90 -242 23 -168 -67
          -362 -247 -534 -159 -150 -310 -262 -519 -380 -60 -34 -150 -86 -200 -115 -49
          -29 -232 -130 -405 -225 -732 -402 -1108 -636 -1557 -970 -201 -150 -310 -213
          -438 -253 -126 -39 -219 -51 -368 -44 -157 7 -253 28 -557 122 -270 83 -368
          105 -500 112 -131 7 -258 -9 -373 -48 -107 -35 -161 -66 -230 -129 -104 -95
          -146 -200 -147 -360 -1 -207 -32 -327 -108 -411 -60 -67 -100 -88 -292 -153
          -431 -145 -927 -208 -1465 -186 -354 15 -635 40 -945 86 -58 8 -116 17 -130
          19 -82 11 -716 112 -885 140 -353 58 -626 97 -820 116 -55 5 -107 12 -115 14
          -14 4 -433 29 -475 28 -11 -1 -69 3 -130 8 -60 4 -556 11 -1102 14 -545 3
          -998 7 -1005 9 -7 3 -110 10 -228 16 -343 18 -738 65 -1015 121 -202 42 -461
          135 -596 216 -227 135 -389 373 -389 572 0 72 32 183 86 301 57 126 70 187 54
          257 -17 76 -64 130 -246 280 -266 219 -399 375 -443 519 -48 154 -5 318 113
          433 l45 44 163 18 c90 10 267 27 393 38 127 12 289 28 360 36 72 8 189 19 260
          25 72 6 166 14 210 20 44 5 132 14 195 20 144 13 224 35 370 100 222 99 452
          222 845 455 887 525 1201 640 2150 791 350 55 711 139 928 214 176 60 453 203
          683 352 168 109 458 277 577 333 139 66 329 130 450 151 68 12 131 15 242 11
          129 -4 169 -9 286 -39 74 -20 199 -61 277 -92 733 -291 880 -330 1382 -367
          333 -24 820 21 1050 97 145 48 279 143 296 209 9 38 -19 72 -133 164 -264 211
          -466 458 -552 673 -85 210 -96 435 -31 576 31 67 128 177 188 214 109 67 265
          74 431 19z"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="S5 node hidden">
        <div class="video-rev">
          <video
            controls
            class="video-source"
            preload="metadata"
            poster="./vid/Hyena Lullaby_2020.jpg"
            loop
            muted
            playsinline
            webkit-playsinline
            xmlns="http://www.w3.org/2000/svg"
          >
            <source
              src="./vid/Hyena Lullaby_2020_Wcredits_HD_720p.mp4"
              type="video/mp4"
            />
          </video>
          <div class="close"></div>
        </div>
        <div class="island-rev hidden">
          <svg
            viewBox="0 0 1920 1080"
            preserveAspectRatio="xMidYMid slice"
            height="100%"
            width="100%"
          >
            <g
              transform="translate(0, 1080) scale(0.1, -0.1)"
              fill="#000000"
              stroke="none"
            >
              <path
                d="M0 5400 l0 -5400 9600 0 9600 0 0 5400 0 5400 -9600 0 -9600 0 0
          -5400z m12819 3671 c66 -22 158 -69 320 -163 124 -72 318 -180 431 -241 112
          -60 265 -147 340 -194 230 -146 317 -195 570 -320 469 -233 678 -381 1036
          -738 141 -141 222 -228 618 -670 160 -179 210 -231 362 -376 146 -140 305
          -265 559 -438 170 -116 231 -170 286 -255 49 -75 77 -149 90 -242 23 -168 -67
          -362 -247 -534 -159 -150 -310 -262 -519 -380 -60 -34 -150 -86 -200 -115 -49
          -29 -232 -130 -405 -225 -732 -402 -1108 -636 -1557 -970 -201 -150 -310 -213
          -438 -253 -126 -39 -219 -51 -368 -44 -157 7 -253 28 -557 122 -270 83 -368
          105 -500 112 -131 7 -258 -9 -373 -48 -107 -35 -161 -66 -230 -129 -104 -95
          -146 -200 -147 -360 -1 -207 -32 -327 -108 -411 -60 -67 -100 -88 -292 -153
          -431 -145 -927 -208 -1465 -186 -354 15 -635 40 -945 86 -58 8 -116 17 -130
          19 -82 11 -716 112 -885 140 -353 58 -626 97 -820 116 -55 5 -107 12 -115 14
          -14 4 -433 29 -475 28 -11 -1 -69 3 -130 8 -60 4 -556 11 -1102 14 -545 3
          -998 7 -1005 9 -7 3 -110 10 -228 16 -343 18 -738 65 -1015 121 -202 42 -461
          135 -596 216 -227 135 -389 373 -389 572 0 72 32 183 86 301 57 126 70 187 54
          257 -17 76 -64 130 -246 280 -266 219 -399 375 -443 519 -48 154 -5 318 113
          433 l45 44 163 18 c90 10 267 27 393 38 127 12 289 28 360 36 72 8 189 19 260
          25 72 6 166 14 210 20 44 5 132 14 195 20 144 13 224 35 370 100 222 99 452
          222 845 455 887 525 1201 640 2150 791 350 55 711 139 928 214 176 60 453 203
          683 352 168 109 458 277 577 333 139 66 329 130 450 151 68 12 131 15 242 11
          129 -4 169 -9 286 -39 74 -20 199 -61 277 -92 733 -291 880 -330 1382 -367
          333 -24 820 21 1050 97 145 48 279 143 296 209 9 38 -19 72 -133 164 -264 211
          -466 458 -552 673 -85 210 -96 435 -31 576 31 67 128 177 188 214 109 67 265
          74 431 19z"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="S16 node hidden">
        <div class="image-action">
          <img src="./nodes/images/outline_layer_1.png" class="notyet" />
          <img src="./nodes/images/outline_layer_2.png" class="notyet" />
          <img src="./nodes/images/outline_layer_both.png" class="notyet" />
          <div class="close hidden"></div>
        </div>
      </div>
      <div class="S18 node hidden">
        <div class="image">
          <img
            src="./nodes/images/FK201122-Area4-Complete_Falkor_Coverage.jpg"
          />
          <div>
            <span class="ultralighter">This image is ....</span>
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S19 node hidden">
        <div class="image">
          <img
            src="./nodes/images/Still_image_of_Bougainville_from_Habitat_series_by_Taloi_Havini_2019_5.jpg"
          />
          <div>
            <span class="ultralighter"
              >Still image of Bougainville from Habitat series by Taloi Havini
              2019</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="island" class="hidden">
        <svg
          class="hidden start"
          id="island"
          viewBox="0 0 1920 1080"
          preserveAspectRatio="xMidYMid meet"
          width="1920"
          height="1080"
        >
          <use href="./img/shapes-adjust.svg#island"></use>
        </svg>
      </div>
      <div class="island" class="hidden">
        <svg
          class="hidden"
          id="nodes"
          viewBox="0 0 1920 1080"
          preserveAspectRatio="xMidYMid meet"
          fill="currentColor"
          class="nodes"
        >
          <filter
            id="filter"
            x="-20%"
            y="-20%"
            width="140%"
            height="140%"
            filterUnits="objectBoundingBox"
            primitiveUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feGaussianBlur
              stdDeviation="6"
              x="0%"
              y="0%"
              width="100%"
              height="100%"
              in="SourceGraphic"
              edgeMode="none"
              result="blur"
            />
          </filter>
          <use
            xlink:href="./img/shapes-adjust.svg#shape_1"
            href="./img/shapes-adjust.svg#shape_1"
            id="S1"
            class="svg_text"
            x="1462"
            y="820"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_1"
            id="S2"
            class="svg_text"
            x="1552"
            y="712"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S3"
            class="svg_video"
            x="962"
            y="875"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S4"
            x="650"
            y="432"
            class="svg_video"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S5"
            class="svg_action"
            x="1702"
            y="832"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_6"
            id="S6"
            class="svg_audio"
            x="1264"
            y="512"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_6"
            id="S7"
            class="svg_audio"
            x="1362"
            y="587"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_6"
            class="svg_audio"
            id="S8"
            x="1162"
            y="612"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S9"
            x="1062"
            y="412"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S10"
            class="svg_video"
            x="291"
            y="670"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S11"
            x="1352"
            y="412"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S12"
            class="svg_action"
            x="314"
            y="555"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S13"
            x="1714"
            y="532"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S14"
            x="962"
            y="490"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S15"
            class="svg_action"
            x="753"
            y="552"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S16"
            class="svg_action"
            x="1502"
            y="232"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S17"
            x="850"
            y="722"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S18"
            class="svg_image"
            x="972"
            y="120"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S19"
            class="svg_image"
            x="453"
            y="675"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S20"
            x="1458"
            y="452"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S21"
            x="1311"
            y="306"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_11"
            id="S22"
            x="873"
            y="615"
            onclick="toggleNode(this.id)"
          ></use>
        </svg>
      </div>
      <div id="notes" class="hidden">
        <div class="welcome hidden start">
          <span class="hidden"><strong>Welcome to the island.</strong></span>
          <span id="thankyou" class="hidden"
            ><br /><br />Thank you for your answer.<br /><br
          /></span>
          <span class="hidden">
            Now, you can dive into
            <i>The Soul Expanding Ocean #1: Taloi Havini</i> and the story of
            the artwork <i>Answer to the Call</i> (2021).
          </span>
        </div>
        <div class="welcome hidden start">
          <span class="hidden"
            >Tap on any of the 22 elements to see more.
          </span>
        </div>
      </div>
      <div class="rnInner">
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
      </div>
    </main>
    <div id="toLandscape" class="hidden">
      <div>
        <span><strong>Please keep your phone in landscape mode.</strong> </span>
      </div>
      <div>
        <img src="./img/rotate-phone.png" />
      </div>
    </div>
    <div id="landscapeGood">
      <span class="lighter"
        ><strong>Thanks for keeping the phone in landscape mode.</strong>
      </span>
    </div>
    <div id="logo">
      <img src="./img/OA_type_white.png" />
    </div>
    <div id="about" class="hidden">
      <img src="./img/about.png" />
      <div class="hidden" id="about-section">
        <div>
          <span><strong>This is about section.</strong><br /><br /></span>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_text"
                  href="./img/shapes-adjust.svg#shape_1_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">reading</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_image"
                  href="./img/shapes-adjust.svg#shape_3_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">imagery</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_audio"
                  href="./img/shapes-adjust.svg#shape_6_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">sound</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_video"
                  href="./img/shapes-adjust.svg#shape_8_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">video</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_action"
                  href="./img/shapes-adjust.svg#shape_10_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">experience</span>
            </div>
          </div>
          <div>&nbsp;</div>
          <div class="about_os">
            <img src="./img/oceanspace.png" />
          </div>
          <div class="about_oa">
            <img src="./img/OA_type_white.png" />
          </div>
          <div class="about_ac">
            <img src="./img/tba21-academy.png" />
          </div>
        </div>
        <div>
          <div>
            <span
              >Taloi Havini was born in the Autonomous Region of Bougainville,
              in the South West Pacific Ocean. Read more about her on her
              <a href="https://www.taloihavini.com/" target="blank">website</a
              >.<br /><br />
            </span>
            <img src="./img/Taloi_Havini_by_Zan_Wimberley.jpg" />
            <span class="courtesy">Taloi Havini. Photo: Zan Wimberley</span>
          </div>
        </div>
      </div>
    </div>
    
    <script src="micInputHandlerSafari.js"></script>
    <script type="text/javascript">
      let landscape = true;
      window.addEventListener(
        "resize",
        function () {
          if (window.innerHeight > window.innerWidth) {
            document.querySelector("main").classList.remove("hidden");
            document.querySelector("main").classList.add("hidden");
            document.getElementById("toLandscape").classList.remove("hidden");
            landscape = false;
          }
          if (window.innerHeight <= window.innerWidth) {
            document.getElementById("toLandscape").classList.remove("hidden");
            document.getElementById("toLandscape").classList.add("hidden");
            document.querySelector("main").classList.remove("hidden");
            if (landscape === false) {
              document.getElementById("landscapeGood").classList.add("show");
              setTimeout(function () {
                document
                  .getElementById("landscapeGood")
                  .classList.remove("show");
              }, 2500);
            }
            landscape = true;
          } else if (window.innerHeight > window.innerWidth) {
            landscape = false;
            document.querySelector("main").classList.remove("hidden");
            document.querySelector("main").classList.add("hidden");
            document.getElementById("toLandscape").classList.remove("hidden");
          }
        },
        false
      );
      var resizeEvent = window.document.createEvent("UIEvents");
      resizeEvent.initUIEvent("resize", true, false, window, 0);
      window.dispatchEvent(resizeEvent);
      let firstClick = false;

//!window.location.hostname.includes("ocean-archive.org") ? ("https://ocean-archive.org/embed/1626") : ("https://" + window.location.hostname + "/embed/1626")

      const [
        audioInvitation,
        audioInvitationControls,
        audioInvitationState,
        nodes,
        island,
        nodesArray,
        islands,
        about,
        aboutButton,
        aboutSection,
        logo,
        notes,
      ] = [
        document.querySelector("#participation audio"),
        document.querySelectorAll("#participation .audio .audio-controls svg"),
        document.querySelector(
          "#participation .audio .audio-controls .audio-state"
        ),
        document.getElementById("nodes"),
        document.getElementById("island"),
        [
          {
            id: "S1",
            moveX: "-50%",
            moveY: "-50%",
            content: "text",
            embed: {},
          },
          { id: "S2", moveX: "50%", moveY: "-50%", content: "text", embed: {} },
          {
            id: "S3",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: {
              url: "https://ocean-archive.org/embed/1626",
              title: "Hyena lullaby",
            },
          },
          {
            id: "S4",
            moveX: "50%",
            moveY: "50%",
            content: "video-embed",
            embed: {
              url: "https://www.youtube.com/embed/iIkl9-6qINk",
              title:
                "Answering the call of the ocean: Artist Taloi Havini explores the sound of the sea",
            },
          },
          {
            id: "S5",
            moveX: "0%",
            moveY: "0%",
            content: "video-action",
            embed: {
              url: "https://ocean-archive.org/embed/1626",
              title: "Hyena lullaby",
            },
          },
          {
            id: "S6",
            moveX: "0%",
            moveY: "0%",
            content: "audio",
            embed: { url: "", title: "ATTC Kuakumba Bird of Paradise" },
          },
          {
            id: "S7",
            moveX: "0%",
            moveY: "0%",
            content: "audio",
            embed: { url: "", title: "ATTC Ocarina and Panpipe" },
          },
          {
            id: "S8",
            moveX: "0%",
            moveY: "0%",
            content: "audio",
            embed: { url: "", title: "ATTC Ocean Meditation" },
          },
          { id: "S9", moveX: "0%", moveY: "0%", content: "audio", embed: {} },
          {
            id: "S10",
            moveX: "25%",
            moveY: "25%",
            content: "video",
            embed: {
              url: "https://ocean-archive.org/embed/1626",
              title: "Hyena lullaby",
            },
          },
          {
            id: "S11",
            moveX: "-50%",
            moveY: "-50%",
            content: "text",
            embed: {},
          },
          {
            id: "S12",
            moveX: "0%",
            moveY: "0%",
            content: "image-action",
            embed: {},
          },
          {
            id: "S13",
            moveX: "-50%",
            moveY: "-50%",
            content: "video",
            embed: { url: "", title: "" },
          },
          { id: "S14", moveX: "0%", moveY: "0%", content: "audio", embed: {} },
          {
            id: "S15",
            moveX: "0%",
            moveY: "0%",
            content: "video-action",
            embed: {
              url: "https://ocean-archive.org/embed/1626",
              title: "Snippet_1_",
            },
          },
          {
            id: "S16",
            moveX: "0%",
            moveY: "0%",
            content: "image-action",
            embed: {},
          },
          {
            id: "S17",
            moveX: "50%",
            moveY: "-50%",
            content: "text",
            embed: {},
          },
          {
            id: "S18",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
          },
          {
            id: "S19",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
          },
          {
            id: "S20",
            moveX: "0%",
            moveY: "0%",
            content: "video",
            embed: { url: "", title: "" },
          },
          { id: "S21", moveX: "0%", moveY: "0%", content: "audio", embed: {} },
          {
            id: "S22",
            moveX: "0%",
            moveY: "0%",
            content: "video",
            embed: { url: "", title: "" },
          },
        ],
        [].slice.call(document.querySelectorAll(".island,#island,.island svg")),
        document.getElementById("about"),
        document.querySelector("#about img"),
        document.getElementById("about-section"),
        document.getElementById("logo"),
        document.getElementById("notes"),
      ];
      // let isSafari =
      //   navigator.vendor.match(/apple/i) &&
      //   !navigator.userAgent.match(/crios/i) &&
      //   !navigator.userAgent.match(/fxios/i);

      // if (isSafari) {
      //   document.body.appendChild(document.createElement("script")).src =
      //     "micInputHandlerSafari.js";
      // } else {
      //   document.body.appendChild(document.createElement("script")).src =
      //     "micInputHandlerSafari.js";
      // }
      function passIntro() {
        document.querySelector("main").classList.toggle("cover");
        document
          .getElementById("intro")
          .classList.toggle("intro-feedback-move");
        document.querySelector("main").classList.toggle("background-move-1");
        document.getElementById("participation").classList.toggle("hidden");
        document
          .getElementById("participation-feedback")
          .classList.toggle("start");
        document
          .getElementById("participation")
          .classList.toggle("participation-feedback-move-in");
        function togglePlay(close) {
          if (audioInvitationIsPlaying === true) {
            audioInvitationControls[0].classList.remove("hide");
            audioInvitationControls[1].classList.remove("hide");
            audioInvitationControls[1].classList.add("hide");
            if (close !== "stopped") {
              audioInvitation.pause();
            } else {
              audioInvitation.currentTime = 0;
              audioInvitationIsPlaying = false;
            }
          } else if (audioInvitationIsPlaying === false) {
            audioInvitationControls[0].classList.remove("hide");
            audioInvitationControls[0].classList.add("hide");
            audioInvitationControls[1].classList.remove("hide");
            const promise = audioInvitation.play();
            if (promise !== undefined) {
              promise
                .catch((error) => {
                  console.log("auto-play prevented");
                  // Auto-play was prevented
                  // Show a UI element to let the user manually start playback
                })
                .then(() => {
                  console.log("auto-play ok");
                  // Auto-play started
                });
            }
          }
        }
        let audioInvitationIsPlaying = false;
        audioInvitation.onplaying = function () {
          audioInvitationIsPlaying = true;
        };
        audioInvitation.onpause = function () {
          audioInvitationIsPlaying = false;
        };
        audioInvitation.onended = function () {
          audioInvitationIsPlaying = true;
          togglePlay("stopped");
        };
        audioInvitationState.addEventListener("click", function () {
          togglePlay("play");
        });
        if (audioInvitation.readyState > 0) {
          audioInvitation.play();
          audioInvitation.pause();
        }
        setTimeout(function () {
          if (audioInvitation.readyState > 0) {
            togglePlay("play");
          }
          document.getElementById("intro").classList.toggle("hidden");
          document.querySelector("main").classList.toggle("cover");
        }, 2000);
      }
      function passParticipation() {
        audioInvitation.pause();
        document.querySelector("main").classList.toggle("cover");
        document.querySelector("main").classList.toggle("background-move-2");
        [
          "participation-feedback-move-in",
          "participation-feedback-move-out",
        ].map((t) =>
          document.getElementById("participation").classList.toggle(t)
        );

        // document
        //   .querySelectorAll("#participation-feedback,#participation-message")
        //   .forEach(function (e) {
        //     e.classList.toggle("participation-feedback-move-in");
        //     e.classList.toggle("participation-feedback-move-out");
        //   });
        document.getElementById("recording").classList.toggle("hidden");
        document.getElementById("recording-feedback").classList.toggle("start");
        document
          .getElementById("recording")
          .classList.toggle("recording-feedback-move-in");
        // document
        //   .querySelectorAll("#recording-feedback,#recording-message")
        //   .forEach(function (e) {
        //     e.classList.toggle("recording-feedback-move-in");
        //   });
        setTimeout(function () {
          document.getElementById("participation").classList.toggle("hidden");
          document.querySelector("main").classList.toggle("cover");
        }, 2000);
      }
      function startRecording() {
        document
          .getElementById("participation")
          .classList.toggle("participation-feedback-move-out");
        document.querySelector("body > canvas").classList.toggle("hidden");
        document.querySelector("main").classList.toggle("cover");
        document.querySelector("main").classList.toggle("background-move-3");
        document.getElementById("start-recording").classList.toggle("fast-end");
        document.getElementById("skip-recording").classList.toggle("fast-end");
        setTimeout(function () {
          document
            .querySelectorAll("#recording-message span")
            .forEach(function (e) {
              e.classList.toggle("fast-end");
            });
        }, 1000);
        setTimeout(function () {
          document.querySelector("main").classList.toggle("cover");
          document
            .getElementById("recording-feedback")
            .classList.toggle("start");
          handleMicrophoneInput();
        }, 2000);
      }
      function goToContent(skipped) {
        audioInvitation.pause();
        document
          .getElementById("recording")
          .classList.remove("recording-feedback-move-in");
        document
          .getElementById("participation")
          .classList.remove("participation-feedback-move-in");
        document.getElementById("recording").classList.add("hidden");
        document.getElementById("participation").classList.add("hidden");
        showContent();
        document.querySelector("main").classList.toggle("cover");
        document.querySelector("body").classList.toggle("out");
        if (skipped === "yes") {
          document.querySelector("main").classList.toggle("background-move-4");
          setTimeout(function () {
            document
              .querySelectorAll(
                "#participation,#participation-feedback,#participation-message"
              )
              .forEach(function (e) {
                e.classList.toggle("hidden");
              });
          }, 2000);
          setTimeout(function () {
            document
              .querySelectorAll("#notes .welcome span:not(#thankyou)")
              .forEach(function (e) {
                e.classList.toggle("hidden");
                e.classList.toggle("start");
              });
          }, 4000);
        } else if (skipped === "no") {
          setTimeout(function () {
            document
              .querySelectorAll("#notes .welcome span")
              .forEach(function (e) {
                e.classList.toggle("hidden");
                e.classList.toggle("start");
              });
          }, 4000);
        }
      }
      function showContent() {
        notes.classList.toggle("hidden");
        setTimeout(function () {
          document.querySelector("main").classList.toggle("cover");
          island.classList.remove("hidden");
        }, 4000);
        setTimeout(function () {
          nodes.classList.remove("hidden");
          document.querySelectorAll("#notes .welcome").forEach(function (e) {
            e.classList.toggle("hidden");
          });
          about.classList.toggle("hidden");
          aboutButton.classList.add("blinker");
        }, 6000);
      }
      function moveIt(id, where, moveX, moveY, content) {
        if (firstClick === false) {
          firstClick = true;
          notes.classList.toggle("hidden");
        }
        aboutButton.classList.remove("blinker");
        about.classList.toggle("hidden");
        logo.classList.toggle("hidden");
        if (where === "out") {
          document.querySelector("." + id).classList.remove("hidden");
          setTimeout(function () {
            document.getElementById(id).setAttribute("filter", "url(#filter)");
          }, 500);
        } else {
          document.querySelector("." + id).classList.remove("hidden");
          document.querySelector("." + id).classList.add("hidden");
        }
        islands.map((i) => {
          i.style.transition = "all 0.5s ease";
          i.style.left = moveX;
          i.style.top = moveY;
          if (where === "out") {
            i.style.cursor = "default";
            i.setAttribute("pointer-events", "none");
          } else {
            i.setAttribute("pointer-events", "auto");
          }
        });
      }
      function toggleNode(id) {
        const node = nodesArray.find((n) => n.id === id);
        const el = document.getElementById(id);
        const close = document.querySelector("div." + el.id + " div div.close");
        moveIt(el.id, "out", node.moveX, node.moveY, node.content);
        const nodeSpace = document.querySelector("div." + el.id);
        if (node.content === "video-action") {
          nodeSpace.querySelector("div.island-rev").classList.remove("hidden");
        }
        if (node.content === "image") {
          close.addEventListener("click", function clean(event) {
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "image-action") {
          if (el.id === "S12") {
            const img = nodeSpace.querySelector("div.image-action img");
            nodes.classList.add("hidden");
            island.classList.remove("start");
            island.classList.add("hidden");
            nodeSpace
              .querySelector("div.image-action img")
              .classList.toggle("hidden");
            setTimeout(function () {
              const transform =
                "translate(calc(" +
                window.innerWidth / 2529 +
                " * 552px),calc(" +
                window.innerHeight / 1949 +
                " * 545px)) rotate(-273deg) translate(calc(" +
                window.innerWidth / 2529 +
                " * 7 * 622px),calc(" +
                window.innerHeight / 1949 +
                " * 7 * 796px)) scale(7)";
              img.setAttribute(
                "style",
                "transform: " +
                  transform +
                  "; -webkit-transform: " +
                  transform +
                  "; -ms-transform: " +
                  transform +
                  ";"
              );
            }, 4000);
            setTimeout(function () {
              island.classList.add("start");
              close.classList.add("start");
            }, 6000);
            setTimeout(function () {
              island.classList.remove("hidden");
              close.classList.remove("hidden");
              close.classList.remove("start");
            }, 8000);
            close.addEventListener("click", function clean(event) {
              nodes.classList.remove("hidden");
              island.classList.remove("hidden");
              close.classList.add("hidden");
              nodeSpace
                .querySelector("div.image-action img")
                .classList.toggle("scale");
              nodeSpace
                .querySelector("div.image-action img")
                .classList.toggle("hidden");
              const transform =
                "translate(0px,0px) rotate(0deg) translate(0px,0px) scale(1)";
              img.setAttribute(
                "style",
                "transform: " +
                  transform +
                  "; -webkit-transform: " +
                  transform +
                  "; -ms-transform: " +
                  transform +
                  ";"
              );
              moveIt(el.id, "back", "0%", "0%", node.content);
              event.currentTarget.removeEventListener(event.type, clean);
            });
          } else if (el.id === "S16") {
            setTimeout(function () {
              islands.map((i) => {
                i.classList.toggle("hidden");
              });
              nodeSpace
                .querySelectorAll("div.image-action img")[0]
                .classList.toggle("notyet");
            }, 1000);
            setTimeout(function () {
              nodeSpace
                .querySelectorAll("div.image-action img")[1]
                .classList.toggle("notyet");
              close.classList.add("start");
            }, 4000);
            setTimeout(function () {
              nodeSpace
                .querySelectorAll("div.image-action img")[2]
                .classList.toggle("notyet");
              close.classList.remove("hidden");
              close.classList.remove("start");
            }, 6000);

            close.addEventListener("click", function clean(event) {
              close.classList.add("hidden");
              islands.map((i) => {
                i.classList.toggle("hidden");
              });
              nodeSpace
                .querySelectorAll("div.image-action img")
                .forEach((e) => {
                  e.classList.toggle("notyet");
                });
              moveIt(el.id, "back", "0%", "0%", node.content);
              event.currentTarget.removeEventListener(event.type, clean);
            });
          }
        } else if (
          (node.content === "video") |
          (node.content === "video-action")
        ) {
          const videoContainer = nodeSpace.querySelector("div");
          const video = videoContainer.querySelector(".video-source");

          if ((el.id === "S15") | (el.id === "S5")) {
            function removeControls(video) {
              video.removeAttribute("controls");
            }
            const promise = video.play();
            if (promise !== undefined) {
              promise
                .catch((error) => {
                  console.log("auto-play prevented");
                })
                .then(() => {
                  video.play();
                });
            } else {
              console.log("something went wrong");
              video.play();
              console.log("tagy");
            }
            window.onload = removeControls(video);
            if (video.paused) {
              video.play();
              video.currentTime = 0;
            }
          }
          close.addEventListener("click", function clean(event) {
            if (el.id === "S15") {
              video.pause();
            }
            if (node.content === "video-action") {
              nodeSpace
                .querySelector("div.island-rev")
                .classList.remove("hidden");
              nodeSpace.querySelector("div.island-rev").classList.add("hidden");
            } else if (node.content === "video") {
              video.pause();
            }
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "video-embed") {
          const video = document.getElementById(el.id + "_video");
          close.addEventListener("click", function clean(event) {
            video.contentWindow.postMessage(
              '{"event":"command","func":"stopVideo","args":""}',
              "*"
            );
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "video-embed-oa") {
          const iframe = nodeSpace.querySelector("div.video > iframe");
          iframe.setAttribute("src",node.embed.url);
              nodeSpace.setAttribute(
                "style",
                "height: calc(calc(0.56 * " +
                  window.innerWidth +
                  " * 0.56249816311px) - 60px)"
              );
              const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
            setTimeout(function () {
              console.log(innerDoc.body)
            }, 2000);
               //div div div div div:nth-child(2) div div video
          close.addEventListener("click", function clean(event) {
            // 
            // console.log(innerDoc);
            // if (innerDoc) {
            //   console.log(innerDoc);
            // }
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "audio") {
          const calculateTime = (secs) => {
            const minutes = Math.floor(secs / 60);
            const seconds = Math.floor(secs % 60);
            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;
            return `${minutes}:${returnedSeconds}`;
          };
          const displayDuration = () => {
            titleTime.textContent =
              node.embed.title + " (" + calculateTime(audio.duration) + ")";
          };
          function togglePlay(close) {
            if (audioIsPlaying) {
              audioControls[0].classList.remove("hide");
              audioControls[1].classList.remove("hide");
              audioControls[1].classList.add("hide");
              audio.pause();
            } else {
              audioControls[0].classList.remove("hide");
              audioControls[0].classList.add("hide");
              audioControls[1].classList.remove("hide");
              const promise = audio.play();
              if (promise !== undefined) {
                promise
                  .catch((error) => {
                    console.log("auto-play prevented");
                    // Auto-play was prevented
                    // Show a UI element to let the user manually start playback
                  })
                  .then(() => {
                    console.log("auto-play ok");
                    // Auto-play started
                  });
              }
            }
          }
          const audio = nodeSpace.querySelector("audio");
          const audioControls = nodeSpace.querySelectorAll(
            ".audio .audio-controls svg"
          );
          const audioState = nodeSpace.querySelector(
            ".audio .audio-controls .audio-state"
          );
          const titleTime = nodeSpace.querySelector(
            ".audio .audio-controls .title-time span"
          );
          let audioIsPlaying = false;
          audio.onplaying = function () {
            audioIsPlaying = true;
          };
          audio.onpause = function () {
            audioIsPlaying = false;
          };
          audioState.onclick = function (event) {
            togglePlay();
          };
          titleTime.textContent = node.embed.title;
          if (audio.readyState > 0) {
            togglePlay();
            displayDuration();
          }
          close.addEventListener("click", function clean(event) {
            audioIsPlaying = true;
            togglePlay();
            audio.currentTime = 0;
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else {
          close.addEventListener("click", function clean(event) {
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        }
      }
      aboutButton.addEventListener("click", function () {
        [logo, aboutButton].forEach((e) => {
          e.classList.toggle("invert");
        });
        aboutButton.classList.remove("blinker");
        aboutSection.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
