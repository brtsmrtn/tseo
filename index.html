<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>The Soul Expanding Ocean #1: Taloi Havini</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      @font-face {
        font-family: "Amare Alta";
        font-style: normal;
        font-weight: 800;
        src: url(fonts/Amare-Alta.otf) format("opentype");
        src: url(fonts/Amare-Alta.eot) format("embedded-opentype"),
          url(fonts/Amare-Alta.woff) format("woff"),
          url(fonts/Amare-Alta.ttf) format("truetype");
      }
      @font-face {
        font-family: "Amare Medium";
        font-style: normal;
        font-weight: 400;
        src: url(fonts/Amare-Medium.otf) format("opentype");
        src: url(fonts/Amare-Medium.eot) format("embedded-opentype"),
          url(fonts/Amare-Medium.woff) format("woff"),
          url(fonts/Amare-Medium.ttf) format("truetype");
      }
      @font-face {
        font-family: "Amare Linnea";
        font-style: normal;
        font-weight: 100;
        src: url(fonts/Amare-Linnea.otf) format("opentype");
        src: url(fonts/Amare-Linnea.eot) format("embedded-opentype"),
          url(fonts/Amare-Linnea.woff) format("woff"),
          url(fonts/Amare-Linnea.ttf) format("truetype");
      }
      @font-face {
        font-family: "Roboto Mono";
        font-style: normal;
        font-weight: 400;
        src: url(fonts/RobotoMono-Regular.otf) format("opentype");
        src: url(fonts/RobotoMono-Regular.eot) format("embedded-opentype"),
          url(fonts/RobotoMono-Regular.woff) format("woff"),
          url(fonts/RobotoMono-Regular.ttf) format("truetype");
      }
      *,
      ::after,
      ::before {
        box-sizing: border-box;
      }
      * {
        margin: 0;
        padding: 0;
        font-family: "Amare Linnea", "Amare Medium", "Amare Alta", sans-serif;
      }
      body,
      html,
      main {
        position: relative;
        overflow: hidden;
        width: 100vw;
        height: 100%;
        margin: 0;
        padding: 0;
        min-width: 100vw;
        min-height: 100%;
        text-align: center;
        display: block;
        color: #fff;
      }
      #toLandscape,
      main {
        background: rgb(1, 35, 205, 0.95);
        background: -moz-linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.95) 0,
          rgba(102, 16, 242, 0.95) 21%,
          rgba(123, 4, 198, 0.95) 63%,
          rgba(67, 0, 167, 0.95) 95%
        );
        background: -webkit-linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.95) 0,
          rgba(102, 16, 242, 0.95) 21%,
          rgba(123, 4, 198, 0.95) 63%,
          rgba(67, 0, 167, 0.95) 95%
        );
        background: linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.95) 0,
          rgba(102, 16, 242, 0.95) 21%,
          rgba(123, 4, 198, 0.95) 63%,
          rgba(67, 0, 167, 0.95) 95%
        );
        background-size: 100% 1200%;
        background-position: 0 0;
      }
      #toLandscape {
        z-index: 10000;
        top: 0;
        position: absolute !important;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
      }
      #toLandscape > div {
        display: flex;
        height: 50%;
      }
      #toLandscape > div:nth-child(1) {
        align-self: center;
        align-items: center;
        width: 90vw;
      }
      span.lighter a,
      span.lighter a:active,
      span.lighter a:hover,
      span.lighter a:link,
      span.lighter a:visited {
        color: #fff;
      }
      span.lighter a:hover {
        text-decoration: none;
      }
      #toLandscape img {
        object-position: center;
        object-fit: contain;
        width: 100%;
        filter: invert(1);
        -webkit-filter: invert(1);
      }
      #landscapeGood {
        visibility: hidden;
        color: #fff;
        text-align: center;
        border-radius: 2px;
        padding: 16px;
        position: absolute;
        z-index: 10001;
        bottom: 30px;
        display: flex;
        align-self: center;
        justify-content: center;
        justify-items: center;
        justify-self: center;
        width: 100vw;
      }
      #landscapeGood span {
        background-color: rgba(60, 60, 60, 0.8);
        padding: 10px 20px;
      }
      #landscapeGood.show {
        visibility: visible;
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
      }
      @-webkit-keyframes fadein {
        from {
          bottom: 0;
          opacity: 0;
        }
        to {
          bottom: 30px;
          opacity: 1;
        }
      }
      @keyframes fadein {
        from {
          bottom: 0;
          opacity: 0;
        }
        to {
          bottom: 30px;
          opacity: 1;
        }
      }
      @-webkit-keyframes fadeout {
        from {
          bottom: 30px;
          opacity: 1;
        }
        to {
          bottom: 0;
          opacity: 0;
        }
      }
      @keyframes fadeout {
        from {
          bottom: 30px;
          opacity: 1;
        }
        to {
          bottom: 0;
          opacity: 0;
        }
      }
      span {
        font-weight: 800;
        line-height: calc(58px + 0.4vw);
        font-size: calc(40px + 0.4vw);
      }
      button,
      div,
      span:not(.read) {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      span.lighter {
        vertical-align: middle;
        line-height: calc(30px + 0.4vw);
        font-size: calc(20px + 0.4vw);
        font-weight: 100;
      }
      .hidden,
      .hidden > * {
        visibility: hidden;
        opacity: 0;
        max-height: 0%;
      }
      button {
        width: auto;
        overflow: visible;
        color: #fff;
        background: rgba(67, 0, 167, 0.25);
        border: 2px solid rgba(147, 203, 254, 0.6);
        border-radius: 4px;
        cursor: pointer;
        font-size: calc(30px + 0.4vw);
        font-weight: 400;
        display: flex;
        align-items: center;
        height: 10%;
        padding: calc(0.5% + 20px) calc(1vw + 15px);
        box-shadow: 20px 10px 50px #93cbfe;
        -webkit-transition: box-shadow 0.75s ease-in-out, color 1s, font-size 1s;
        transition: box-shadow 0.75s ease-in-out, color 1s, font-size 1s;
      }
      button.skip {
        box-shadow: unset;
      }
      button:hover {
        background: rgba(67, 0, 167, 0.5);
        box-shadow: 10px 10px 50px 30px rgba(147, 203, 254, 0.6);
        font-size: calc(32px + 0.4vw);
      }
      .rnInner {
        width: 100%;
        position: absolute;
        top: -10%;
        right: 0;
        bottom: 0;
        left: 0;
        margin: auto;
        -webkit-transform-style: preserve-3d;
        transform-style: preserve-3d;
        -webkit-transition: transform 6s ease;
        transition: transform 6s ease;
        -webkit-transform-origin: -120% top;
        transform-origin: -120% top;
        z-index: 50;
      }
      .rnUnit {
        width: 12vw;
        height: 120%;
        background: repeating-linear-gradient(
          to left,
          rgba(67, 0, 167, 0.32) 4vw,
          rgba(67, 0, 167, 0.52) 8vw,
          rgba(67, 0, 167, 0.12) 10vw
        );
        background-size: 100% 100%;
        display: inline-block;
        -webkit-transform-origin: 0 0;
        -webkit-transform: rotate(1deg);
        transform-origin: 0 0;
        transform: rotate(1deg);
        animation: rnUnit 5s ease infinite;
      }
      @keyframes rnUnit {
        50% {
          -webkit-transform: rotate(-1deg);
          transform: rotate(-1deg);
        }
      }
      .rnUnit:nth-child(1) {
        animation-delay: -0.2s;
      }
      .rnUnit:nth-child(2) {
        animation-delay: -0.4s;
      }
      .rnUnit:nth-child(3) {
        animation-delay: -0.6s;
      }
      .rnUnit:nth-child(4) {
        animation-delay: -0.8s;
      }
      .rnUnit:nth-child(5) {
        animation-delay: -1s;
      }
      .rnUnit:nth-child(6) {
        animation-delay: -1.2s;
      }
      .rnUnit:nth-child(7) {
        animation-delay: -1.4s;
      }
      .rnUnit:nth-child(8) {
        animation-delay: -1.6s;
      }
      .rnUnit:nth-child(9) {
        animation-delay: -1.8s;
      }
      .rnUnit:nth-child(10) {
        animation-delay: -2s;
      }
      .feedback {
        text-align: center;
        z-index: 101;
      }
      .message {
        z-index: 101;
      }
      .cover {
        z-index: 103;
        cursor: default;
      }
      .start {
        -webkit-animation: show_anything 2s 2s normal forwards ease-out;
        animation: show_anything 2s 2s normal forwards ease-out;
      }
      .feedback .space {
        position: absolute;
        display: flex;
        width: 100%;
      }
      .feedback .space:nth-child(1) {
        justify-content: center;
      }
      .feedback .space:nth-child(2) {
        bottom: 5%;
        left: 5%;
        justify-content: flex-start;
      }
      @-webkit-keyframes show_anything {
        0% {
          visibility: hidden;
          opacity: 0;
        }
        10% {
          visibility: visible;
          opacity: 0.05;
        }
        100% {
          visibility: visible;
          opacity: 1;
        }
      }
      @keyframes show_anything {
        0% {
          visibility: hidden;
          opacity: 0;
        }
        10% {
          visibility: visible;
          opacity: 0.05;
        }
        100% {
          visibility: visible;
          opacity: 1;
        }
      }
      #intro {
        position: absolute;
        display: flex;
        justify-items: center;
        align-items: center;
        width: 100vw;
        flex-direction: column;
        justify-content: space-evenly;
        height: 100%;
      }
      #intro-message {
        width: 90vw;
        display: flex;
        justify-content: space-evenly;
        flex-direction: column;
        align-items: center;
      }
      #intro-feedback {
        display: flex;
        opacity: 0;
        justify-content: space-evenly;
        flex-direction: row;
        align-items: center;
      }
      main.background-move-1 {
        z-index: 1;
        opacity: 0.85;
        animation: dec_op_1_085 2s linear;
      }
      main.background-move-1::after {
        content: "";
        background: rgb(1, 35, 205, 0.65);
        background: -moz-linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.65) 0,
          rgba(102, 16, 242, 0.65) 21%,
          rgba(123, 4, 198, 0.65) 63%,
          rgba(67, 0, 167, 0.65) 95%
        );
        background: -webkit-linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.65) 0,
          rgba(102, 16, 242, 0.65) 21%,
          rgba(123, 4, 198, 0.65) 63%,
          rgba(67, 0, 167, 0.65) 95%
        );
        background: linear-gradient(
          115deg,
          rgba(1, 35, 205, 0.65) 0,
          rgba(102, 16, 242, 0.65) 21%,
          rgba(123, 4, 198, 0.65) 63%,
          rgba(67, 0, 167, 0.65) 95%
        );
        opacity: 1;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        width: 100vw;
        height: 100%;
        position: absolute;
        z-index: 10;
        animation: inc_op_0_1 2s linear;
      }
      @keyframes inc_op_0_1 {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }
      @keyframes dec_op_1_085 {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0.85;
        }
      }
      @media (max-height: 800px) {
        span.lighter {
          vertical-align: middle;
          line-height: calc(24px + 0.4vw);
          font-size: calc(18px + 0.4vw);
          font-weight: 100;
        }
      }
      @media (max-height: 600px) and (max-width: 900px) {
        span.lighter {
          vertical-align: middle;
          line-height: calc(22px + 0.4vw);
          font-size: calc(16px + 0.4vw);
          font-weight: 100;
        }
        span {
          line-height: calc(34px + 0.4vw);
          font-size: calc(24px + 0.4vw);
        }
        button {
          font-size: calc(20px + 0.4vw);
          padding: 15px calc(2vw + 15px) 20px calc(2vw + 15px);
        }
        button:enabled:hover {
          font-size: calc(22px + 0.4vw);
        }
      }
    </style>
    <link rel="stylesheet" type="text/css" href="./css.css" media="screen" />
  </head>
  <body>
    <main class="hidden">
      <div id="intro">
        <div id="intro-message" class="message">
          <span
            >Hello, wanderer! You have landed at the digital shore of<br />
            The Soul Expanding Ocean #1: Taloi Havini.</span
          >
        </div>
        <div id="intro-feedback" class="feedback start">
          <div class="space">
            <button onclick="passIntro()">I WANT TO KNOW MORE</button>
          </div>
        </div>
      </div>
      <div id="participation" class="hidden">
        <div id="participation-message" class="message">
          <span
            >Everything on this island revolves around an Answer to the Call.<br />
            Here is a welcome call for you.
          </span>
          <div class="audio">
            <div class="audio-controls">
              <div class="audio-wave"></div>
              <div class="audio-state">
                <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                  ></path>
                </svg>
                <svg
                  class="hide"
                  viewBox="0 0 448 512"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                  ></path>
                </svg>
              </div>
              <div class="title-time">
                <span class="ultralighter">
                  Taloi Havini, "Answer to the Call" (2021), fragment: Kuakumba
                  Bird of Paradise (0:19)</span
                >
              </div>
              <audio
                preload="false"
                src="./nodes/sound/ATTC Kuakumba Bird of Paradise 30 sec sample.mp3"
              ></audio>
            </div>
          </div>
        </div>
        <div id="participation-feedback" class="feedback">
          <div class="space">
            <button onclick="passParticipation()">I'D LIKE TO ANSWER</button>
          </div>
          <div class="space">
            <button class="skip" onclick="goToContent('yes',null)">SKIP</button>
          </div>
        </div>
      </div>
      <div id="recording" class="hidden">
        <div id="recording-message" class="message">
          <span
            >Respond with your voice. Use it freely - sing, speak, shout, make
            noise, laugh...<br
          /></span>
          <span class="lighter">
            &#x2a; Don't worry, you are not being recorded, so don't be afraid
            to sing &#128521;
          </span>
        </div>
        <div id="recording-feedback" class="feedback">
          <div class="space">
            <button id="start-recording">LET'S DO IT</button>
          </div>
          <div class="space">
            <button
              class="skip"
              id="skip-recording"
              onclick="goToContent('yes',null)"
            >
              SKIP
            </button>
          </div>
        </div>
      </div>
      <div class="S1 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >“Someone just offers you her home, an island. You hesitate at
              first, but then you see the blue and understand you are invited to
              inhabit the island for a while, perhaps even for a longer period.
              It is true that you can sense the sea. At first, it is
              unthinkable, to perceive this island as a real island in the
              Pacific, but then it appears. Do you know how the curve of the
              earth was shaped? The same energy made this wonder. It is only
              natural since this work— specifically conceived for Ocean Space,
              for you—originates from impressions of the place where the artist
              herself is from: Bougainville. You are invited to inhabit this
              space and listen to the sounds that come like how the clouds are
              pushed by the winds.”&nbsp;
              <a href="https://ocean-archive.org/view/1995" target="blank"
                >Read more</a
              ></span
            >
            <span class="read_title"
              >Chus Martínez, Brochure for “The Soul Expanding Ocean #1: Taloi
              Havini”</span
            >
          </div>
        </div>
      </div>
      <div class="S2 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >“We don’t have monuments in Bougainville, but we do have
              structures [...] There is none of the monumentality that prevails
              in the west. When things break down, we repair them. If nature
              destroys a building, we make a new one. We build structures for
              ceremonies, then burn them down. Monumental events in life have no
              physical aftermath, but they remain in the collective
              memory.”&nbsp;
              <a
                href="https://www.ft.com/content/50787587-9d4f-4ab6-b365-dbae419a1e08"
                target="blank"
                >Read more</a
              ></span
            >
            <span class="read_title"
              >Taloi Havini in “Deep listening — Taloi Havini conjures the sound
              of her ancestors at Venice Biennale” by Caroline Roux in Financial
              Times</span
            >
          </div>
        </div>
      </div>
      <div class="S3 node hidden">
        <div class="video">
          <iframe
            title="Artist-at-Sea: Taloi Havini - Ice Age Geology of the Great Barrier Reef"
            frameborder="0"
            scrolling="no"
            src=""
          ></iframe>
          <div>
            <span class="ultralighter"
              >Taloi Havini aboard the R/V Falkor as part of Schmidt Ocean
              Institute's Artist-At-Sea Residency program.</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S4 node hidden">
        <div class="video">
          <iframe
            id="S4_video"
            src="https://www.youtube.com/embed/iIkl9-6qINk?playlist=iIkl9-6qINk"
            title="Answering the call of the ocean: Artist Taloi Havini explores the sound of the sea"
            frameborder="0"
            rel="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            scrolling="no"
            allowfullscreen
          ></iframe>
          <div>
            <span class="ultralighter"
              >“Answering the call of the ocean: Artist Taloi Havini explores
              the sound of the sea”, an interview with Taloi Havini for France24
              in April 2021.</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S5 node hidden">
        <div class="video-rev">
          <video
            controls
            class="video-source"
            preload="metadata"
            poster="./vid/Hyena Lullaby_2020.jpg"
            loop
            muted
            playsinline
            webkit-playsinline
            xmlns="http://www.w3.org/2000/svg"
          >
            <source
              src="./vid/Hyena Lullaby_2020_Wcredits_HD_720p.mp4"
              type="video/mp4"
            />
          </video>
          <div class="close"></div>
        </div>
        <div class="island-rev hidden">
          <svg viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice">
            <g
              transform="translate(0, 1080) scale(0.1, -0.1)"
              fill="#000000"
              stroke="none"
            >
              <path
                d="M0 5400 l0 -5400 9600 0 9600 0 0 5400 0 5400 -9600 0 -9600 0 0
          -5400z m12819 3671 c66 -22 158 -69 320 -163 124 -72 318 -180 431 -241 112
          -60 265 -147 340 -194 230 -146 317 -195 570 -320 469 -233 678 -381 1036
          -738 141 -141 222 -228 618 -670 160 -179 210 -231 362 -376 146 -140 305
          -265 559 -438 170 -116 231 -170 286 -255 49 -75 77 -149 90 -242 23 -168 -67
          -362 -247 -534 -159 -150 -310 -262 -519 -380 -60 -34 -150 -86 -200 -115 -49
          -29 -232 -130 -405 -225 -732 -402 -1108 -636 -1557 -970 -201 -150 -310 -213
          -438 -253 -126 -39 -219 -51 -368 -44 -157 7 -253 28 -557 122 -270 83 -368
          105 -500 112 -131 7 -258 -9 -373 -48 -107 -35 -161 -66 -230 -129 -104 -95
          -146 -200 -147 -360 -1 -207 -32 -327 -108 -411 -60 -67 -100 -88 -292 -153
          -431 -145 -927 -208 -1465 -186 -354 15 -635 40 -945 86 -58 8 -116 17 -130
          19 -82 11 -716 112 -885 140 -353 58 -626 97 -820 116 -55 5 -107 12 -115 14
          -14 4 -433 29 -475 28 -11 -1 -69 3 -130 8 -60 4 -556 11 -1102 14 -545 3
          -998 7 -1005 9 -7 3 -110 10 -228 16 -343 18 -738 65 -1015 121 -202 42 -461
          135 -596 216 -227 135 -389 373 -389 572 0 72 32 183 86 301 57 126 70 187 54
          257 -17 76 -64 130 -246 280 -266 219 -399 375 -443 519 -48 154 -5 318 113
          433 l45 44 163 18 c90 10 267 27 393 38 127 12 289 28 360 36 72 8 189 19 260
          25 72 6 166 14 210 20 44 5 132 14 195 20 144 13 224 35 370 100 222 99 452
          222 845 455 887 525 1201 640 2150 791 350 55 711 139 928 214 176 60 453 203
          683 352 168 109 458 277 577 333 139 66 329 130 450 151 68 12 131 15 242 11
          129 -4 169 -9 286 -39 74 -20 199 -61 277 -92 733 -291 880 -330 1382 -367
          333 -24 820 21 1050 97 145 48 279 143 296 209 9 38 -19 72 -133 164 -264 211
          -466 458 -552 673 -85 210 -96 435 -31 576 31 67 128 177 188 214 109 67 265
          74 431 19z"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="S6 node hidden">
        <div class="video">
          <iframe
            title="Taloi Havini and Ben Hakalitz in conversation"
            frameborder="0"
            scrolling="no"
            src=""
          ></iframe>
          <div>
            <span class="ultralighter"
              >Taloi Havini and Ben Hakalitz in conversation at the musician's
              studio in Queensland about the composition of “Answer to the Call”
              (2021).
            </span>
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S7 node hidden">
        <div class="audio">
          <div class="audio-controls">
            <div class="audio-wave"></div>
            <div class="audio-state">
              <svg
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                ></path>
              </svg>
              <svg
                class="hide"
                fill="#6f00ff"
                viewBox="0 0 448 512"
                height="1.5em"
                width="1.5em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                ></path>
              </svg>
            </div>
            <div class="title-time">
              <span class="ultralighter"
                >Taloi Havini, "Answer to the Call" (2021), fragment: Ocarina
                and Panpipe (0:27)</span
              >
            </div>
            <audio
              preload="false"
              src="./nodes/sound/ATTC Ocarina and Panpipe 30 sec sample.mp3"
            ></audio>
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S8 node hidden">
        <div class="audio">
          <div class="audio-controls">
            <div class="audio-wave"></div>
            <div class="audio-state">
              <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                ></path>
              </svg>
              <svg
                class="hide"
                viewBox="0 0 448 512"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"
                ></path>
              </svg>
            </div>
            <div class="title-time">
              <span class="ultralighter"
                >Taloi Havini, "Answer to the Call" (2021), fragment: Ocean
                Meditation (0:29)</span
              >
            </div>
            <audio
              preload="false"
              src="./nodes/sound/ATTC Ocean Meditation 30 sec sample.mp3"
            ></audio>
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S9 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >“Within the sonic installation are textures of all kinds of
              sounds that relate to activities that take you on a journey across
              the oceans and below sea-level, right down to the twilight zone,
              and then back up into the atmosphere – it’s all about the
              interconnectedness of ocean/life systems.”&nbsp;
              <a
                href="https://www.wallpaper.com/art/taloi-havini-ocean-space-exhibition-venice"
                target="blank"
                >Read more</a
              ></span
            >
            <span class="read_title"
              >Taloi Havini in “Taloi Havini’s first sonic work dunks the
              listener in an ocean of sound” by Amah-Rose Abrams in
              Wallpaper&#x2a;</span
            >
          </div>
        </div>
      </div>
      <div class="S10 node hidden">
        <div class="video">
          <iframe
            title="Taloi Havini on Answer to the call"
            frameborder="0"
            scrolling="no"
            src=""
          ></iframe>
          <div>
            <span class="ultralighter"
              >Taloi Havini on the process and inspiration behind the sound
              installation “Answer to the Call” (2021).
            </span>
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S11 node hidden">
        <div class="text">
          <div class="close"></div>
          <div>
            <span class="read"
              >“I think when we’re looking at our Pacific Island nations, one of
              the things that holds us together is the body of ocean which we
              know as the Pacific—also a name that’s come from somebody else.
              That’s why it becomes crucial to look at the relationships we have
              as Pacific Island people to this body of water—the largest
              continent in the world.”&nbsp;
              <a href="https://ocean-archive.org/view/1833" target="blank"
                >Read more</a
              ></span
            >
            <span class="read_title"
              >Latai Taumoepeau and Taloi Havini, “The Last Resort: A
              Conversation”, e-flux Journal #112 - October 2020</span
            >
          </div>
        </div>
      </div>
      <div class="S12 node hidden">
        <div class="image-action">
          <img class="hidden" src="./nodes/images/bougainville_island.png" />
          <div class="close hidden"></div>
        </div>
      </div>
      <div class="S13 node hidden">
        <div class="video">
          <iframe
            title="Ben Hakalitz introducing instruments"
            frameborder="0"
            scrolling="no"
            src=""
          ></iframe>
          <div>
            <span class="ultralighter"
              >Musician Ben Hakalitz introducing the traditional instruments and
              musical heritage of Bougainville.</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S14 node hidden">
        <div class="video">
          <iframe
            title="Mario Celestino introducing instruments"
            frameborder="0"
            scrolling="no"
          ></iframe>
          <div>
            <span class="ultralighter"
              >Bolivian musician Mario Celestino speaks about the wind
              instruments used in “Answer to the Call” (2021).
            </span>
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S15 node hidden">
        <div class="video-rev">
          <video
            controls
            class="video-source"
            preload="auto"
            poster="./nodes/vid/reduced/Snippet_1_.png"
            loop
            playsinline
            webkit-playsinline
            xmlns="http://www.w3.org/2000/svg"
          >
            <source
              src="./nodes/vid/reduced/Snippet_1_.webm"
              type="video/webm"
            />
            <source src="./nodes/vid/Taloi 1b_sound.mp4" type="video/mp4" />
          </video>
          <div class="close"></div>
        </div>
        <div class="island-rev hidden">
          <svg viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice">
            <g>
              <path
                d="M0 5400 l0 -5400 9600 0 9600 0 0 5400 0 5400 -9600 0 -9600 0 0
          -5400z m12819 3671 c66 -22 158 -69 320 -163 124 -72 318 -180 431 -241 112
          -60 265 -147 340 -194 230 -146 317 -195 570 -320 469 -233 678 -381 1036
          -738 141 -141 222 -228 618 -670 160 -179 210 -231 362 -376 146 -140 305
          -265 559 -438 170 -116 231 -170 286 -255 49 -75 77 -149 90 -242 23 -168 -67
          -362 -247 -534 -159 -150 -310 -262 -519 -380 -60 -34 -150 -86 -200 -115 -49
          -29 -232 -130 -405 -225 -732 -402 -1108 -636 -1557 -970 -201 -150 -310 -213
          -438 -253 -126 -39 -219 -51 -368 -44 -157 7 -253 28 -557 122 -270 83 -368
          105 -500 112 -131 7 -258 -9 -373 -48 -107 -35 -161 -66 -230 -129 -104 -95
          -146 -200 -147 -360 -1 -207 -32 -327 -108 -411 -60 -67 -100 -88 -292 -153
          -431 -145 -927 -208 -1465 -186 -354 15 -635 40 -945 86 -58 8 -116 17 -130
          19 -82 11 -716 112 -885 140 -353 58 -626 97 -820 116 -55 5 -107 12 -115 14
          -14 4 -433 29 -475 28 -11 -1 -69 3 -130 8 -60 4 -556 11 -1102 14 -545 3
          -998 7 -1005 9 -7 3 -110 10 -228 16 -343 18 -738 65 -1015 121 -202 42 -461
          135 -596 216 -227 135 -389 373 -389 572 0 72 32 183 86 301 57 126 70 187 54
          257 -17 76 -64 130 -246 280 -266 219 -399 375 -443 519 -48 154 -5 318 113
          433 l45 44 163 18 c90 10 267 27 393 38 127 12 289 28 360 36 72 8 189 19 260
          25 72 6 166 14 210 20 44 5 132 14 195 20 144 13 224 35 370 100 222 99 452
          222 845 455 887 525 1201 640 2150 791 350 55 711 139 928 214 176 60 453 203
          683 352 168 109 458 277 577 333 139 66 329 130 450 151 68 12 131 15 242 11
          129 -4 169 -9 286 -39 74 -20 199 -61 277 -92 733 -291 880 -330 1382 -367
          333 -24 820 21 1050 97 145 48 279 143 296 209 9 38 -19 72 -133 164 -264 211
          -466 458 -552 673 -85 210 -96 435 -31 576 31 67 128 177 188 214 109 67 265
          74 431 19z"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="S16 node hidden">
        <div class="image-action">
          <img src="./nodes/images/outline_layer_1.png" class="hidden notyet" />
          <img src="./nodes/images/outline_layer_2.png" class="hidden notyet" />
          <img
            src="./nodes/images/outline_layer_both.png"
            class="hidden notyet"
          />
          <div class="close hidden"></div>
        </div>
      </div>
      <div class="S17 node hidden">
        <div class="video">
          <iframe
            title="Taloi Havini: Answer to the Call - drone footage"
            frameborder="0"
            scrolling="no"
            src=""
          ></iframe>
          <div>
            <span class="ultralighter"
              >Drone footage of Taloi Havini’s “Answer to the Call” (2021) at
              Ocean Space, Venice, Italy.</span
            >
            <div class="close"></div>
          </div>
        </div>
      </div>
      <div class="S18 node hidden">
        <div class="image">
          <img
            src="./nodes/images/FK201122-Area4-Complete_Falkor_Coverage.jpg"
          />
          <div>
            <span class="ultralighter"
              >Complete Falkor Coverage. Bathymetry data acquired in the
              Southern Depths of the Great Barrier Reef survey, using multibeam
              sonar systems (2020).</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S19 node hidden">
        <div class="image">
          <img
            src="./nodes/images/Still_image_of_Bougainville_from_Habitat_series_by_Taloi_Havini_2019_5.jpg"
          />
          <div>
            <span class="ultralighter"
              >Photography of the Buka Passage and the airport in the south of
              Buka Island. Fragment from the Habitat series by Taloi Havini
              (2019).</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S20 node hidden">
        <div class="image">
          <img src="./nodes/images/FK201122_-_Sediment_grab_-_sea floor.png" />
          <div>
            <span class="ultralighter"
              >Sediment sampling on the sea floor during the study of the Ice
              Age Geology of the Great Barrier Reef (2020).</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S21 node hidden">
        <div class="image">
          <img
            src="./nodes/images/FK201122_-_Sediment_grab_-_on_the_ship.png"
          />
          <div>
            <span class="ultralighter"
              >Sediment sampling aboard R/V Falkor during the study of the Ice
              Age Geology of the Great Barrier Reef (2020).</span
            >
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="S22 node hidden">
        <div class="image">
          <img src="./nodes/images/FK201122-Area4_Drowned_Reefs.png" />
          <div>
            <span class="ultralighter"
              >Bathymetry data acquired in the Southern Depths of the Great
              Barrier Reef survey, using multibeam sonar systems (2020).
            </span>
          </div>
          <div class="close"></div>
        </div>
      </div>
      <div class="island" class="hidden">
        <svg
          class="hidden start"
          id="island"
          viewBox="0 0 1920 1080"
          preserveAspectRatio="xMidYMid meet"
          width="1920"
          height="1080"
        >
          <use href="./img/shapes-adjust.svg#island"></use>
        </svg>
      </div>
      <div class="island" class="hidden">
        <svg
          class="hidden"
          id="nodes"
          viewBox="0 0 1920 1080"
          preserveAspectRatio="xMidYMid meet"
          fill="currentColor"
          class="nodes"
        >
          <filter
            id="filter"
            x="-20%"
            y="-20%"
            width="140%"
            height="140%"
            filterUnits="objectBoundingBox"
            primitiveUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feGaussianBlur
              stdDeviation="6"
              x="0%"
              y="0%"
              width="100%"
              height="100%"
              in="SourceGraphic"
              edgeMode="none"
              result="blur"
            />
          </filter>
          <use
            xlink:href="./img/shapes-adjust.svg#shape_1"
            href="./img/shapes-adjust.svg#shape_1"
            id="S1"
            class="svg_text"
            x="1462"
            y="820"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_1"
            id="S2"
            class="svg_text"
            x="873"
            y="615"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S3"
            class="svg_video"
            x="962"
            y="875"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S4"
            x="650"
            y="432"
            class="svg_video"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S5"
            class="svg_action"
            x="1702"
            y="832"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S6"
            class="svg_video"
            x="1264"
            y="512"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_6"
            id="S7"
            class="svg_audio"
            x="1362"
            y="587"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_6"
            class="svg_audio"
            id="S8"
            x="291"
            y="670"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_1"
            id="S9"
            class="svg_text"
            x="1062"
            y="412"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S10"
            class="svg_video"
            x="1162"
            y="612"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_1"
            id="S11"
            class="svg_text"
            x="1352"
            y="412"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S12"
            class="svg_action"
            x="1714"
            y="532"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S13"
            class="svg_video"
            x="314"
            y="555"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_8"
            id="S14"
            class="svg_video"
            x="962"
            y="490"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S15"
            class="svg_action"
            x="972"
            y="120"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_10"
            id="S16"
            class="svg_action"
            x="1502"
            y="232"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S17"
            class="svg_image"
            x="850"
            y="722"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S18"
            class="svg_image"
            x="753"
            y="552"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S19"
            class="svg_image"
            x="453"
            y="675"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S20"
            class="svg_image"
            x="1458"
            y="452"
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S21"
            class="svg_image"
            x="1311"
            y="306"
            đ
            onclick="toggleNode(this.id)"
          ></use>
          <use
            href="./img/shapes-adjust.svg#shape_3"
            id="S22"
            class="svg_image"
            x="1552"
            y="712"
            onclick="toggleNode(this.id)"
          ></use>
        </svg>
        <img id="myWave" src="" class="hidden" />
      </div>
      <div id="notes" class="hidden">
        <div class="welcome hidden start">
          <span class="hidden"><strong>Welcome to the island.</strong></span>
          <span id="thankyou" class="hidden"
            ><br /><br />Thank you for your answer.<br /><br
          /></span>
          <span class="hidden">
            Now, you can dive into The Soul Expanding Ocean #1: Taloi Havini and
            the story of the artwork Answer to the Call (2021).
          </span>
        </div>
        <div class="welcome hidden start">
          <span class="hidden"
            >Tap on any of the 22 elements to see more.
          </span>
        </div>
        <div class="goodbye hidden start">
          <span class="hidden"
            ><strong>Dear Wanderer</strong>, you have explored the entire
            island. Thank you for your visit! <br /><br />Don't forget – this
            island is a constantly evolving place, so make sure to check back
            for new offerings. See you soon!</span
          >
        </div>
      </div>
      <div class="rnInner">
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
        <div class="rnUnit"></div>
      </div>
    </main>
    <div id="toLandscape" class="hidden">
      <div>
        <span class="lighter"></span>
      </div>
      <div>
        <img src="./img/rotate-phone.png" />
      </div>
    </div>
    <div id="landscapeGood">
      <span class="lighter"
        ><strong>Thanks for keeping the device in landscape mode.</strong>
      </span>
    </div>
    <div id="logo">
      <img src="./img/OA_type_white.png" />
    </div>
    <div id="about" class="hidden">
      <img src="./img/about.png" />
      <div class="hidden" id="about-section">
        <div>
          <span><strong>22 elements</strong></span>
        </div>
        <div>
          <span class="lighter"
            >22 elements is an interactive Ocean Archive interface, designed to
            take you through the exhibition The Soul Expanding Ocean #1: Taloi
            Havini. Its 22 content points, or elements, correspond to the 22
            channels of the sound installation in the physical space.</span
          ><br /><br />
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_text"
                  href="./img/shapes-adjust.svg#shape_1_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">Readings</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_image"
                  href="./img/shapes-adjust.svg#shape_3_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">Imagery</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_audio"
                  href="./img/shapes-adjust.svg#shape_6_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">Listenings</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_video"
                  href="./img/shapes-adjust.svg#shape_8_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">Behind the scenes</span>
            </div>
          </div>
          <div>
            <div>
              <svg viewBox="0 -10 80 80">
                <use
                  class="svg_action"
                  href="./img/shapes-adjust.svg#shape_10_about"
                ></use>
              </svg>
            </div>
            <div>
              <span class="lighter">Experience</span>
            </div>
          </div>
          <span class="lighter"
            ><br />Ocean Archive is a digital platform in the making. Designed
            to be a pedagogical, research and storytelling tool for a broad
            audience, it brings together a multitude of Ocean voices and stories
            and connects those striving to protect it.</span
          >
          <div>&nbsp;</div>
          <div>&nbsp;</div>
          <div class="about_os">
            <img src="./img/oceanspace.png" />
          </div>
          <div class="about_oa">
            <img src="./img/OA_type_white.png" />
          </div>
          <div class="about_ac">
            <img src="./img/tba21-academy.png" />
          </div>
          <div class="about_si">
            <img src="./img/schmidt-institute.png" />
          </div>
        </div>
        <div>
          <div>
            <span class="lighter"
              >Taloi Havini was born in the Autonomous Region of Bougainville,
              Papua New Guinea), and currently lives and works in Sydney,
              Australia. Her work is often a personal response to the politics
              of location, exploring contested sites and histories connected
              within Oceania. Read more about the artist on her
              <a href="https://www.taloihavini.com/" target="blank">website</a
              >.<br /><br
            /></span>
            <img src="./img/Taloi_Havini_by_Zan_Wimberley.jpg" />
            <span class="courtesy">Taloi Havini. Photo: Zan Wimberley</span>
            <span class="lighter"
              ><br />The 22-channel sound installation “Answer to the Call”
              (2021) was created in collaboration with Ben Hakalitz, a renowned
              Bougainville-born musician with a career spanning more than 35
              years, and the Bolivian-born multi-instrumentalist Mario
              Celestino, who descends from the Aymara people, the largest ethnic
              group in South America. <br /><br />This sound piece is presented
              at the exhibition “The Soul Expanding Ocean #1: Taloi Havini”, the
              first chapter of a curatorial cycle by Chus Martínez. You can
              experience the installation in person at
              <a
                href="https://www.ocean-space.org/exhibitions/taloi-havini-the-soul-expanding-ocean-1"
                target="blank"
                >TBA21–Academy's Ocean Space</a
              >
              in Venice until October 17, 2021. <br /><br />To see the full
              digital presentation of the project, visit the collection on
              <strong style="background-color: yellow">Ocean Archive</strong>.
              <br /><br />The exhibition "The Soul Expanding Ocean #1: Taloi
              Havini" was commissioned by
              <a href="http://tba21.org/academy" target="blank"
                >TBA21–Academy</a
              >
              and co-produced with
              <a href="https://schmidtocean.org/" target="blank"
                >Schmidt Ocean Institute</a
              >.
            </span>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      const generalNote =
        "<strong>Please keep your device in landscape mode.</strong><br />If nothing happens, you might have your screen lock on.";
      document.querySelector("#toLandscape span").innerHTML = generalNote;
      if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
        document.querySelector("#toLandscape span").innerHTML =
          generalNote +
          'In that case, follow <a href="https://support.apple.com/en-us/HT204547" target="blank">this tutorial<a/> or open Control center > Tap Portrait Orientation Lock -> Turn your device sideways.';
      } else if (/Android/i.test(navigator.userAgent)) {
        document.querySelector("#toLandscape span").innerHTML =
          generalNote +
          'In that case, follow <a href="https://support.google.com/accessibility/android/answer/6006961?hl=en" target="blank">this tutorial<a/> or open Settings > Tap Accessibility -> Tap Auto-rotate screen -> Turn your device sideways.';
      }
      let [
        landscape,
        firstClick,
        recordingHappened,
        satisfyingDurationMet,
        shouldStop,
        stopped,
        resizeEvent,
      ] = [
        true,
        false,
        false,
        false,
        false,
        false,
        window.document.createEvent("UIEvents"),
      ];
      window.addEventListener(
        "resize",
        function () {
          [".S3", ".S6", ".S10", ".S13", ".S14", ".S17"].forEach((el) => {
            const iframe = document.querySelector(el + " div.video > iframe");
            document
              .querySelector(el)
              .setAttribute(
                "style",
                "height: calc(0.6 * " +
                  window.innerWidth +
                  " * 0.56249816311px)"
              );
            iframe.setAttribute(
              "style",
              "height: calc(calc(0.6 * " +
                window.innerWidth +
                " * 0.56249816311px) - 33.7498897866px)"
            );
            document
              .querySelector(el + " div.video")
              .setAttribute(
                "style",
                "height: calc(calc(0.6 * " +
                  window.innerWidth +
                  " * 0.56249816311px) + 50px)"
              );
          });
          document
            .querySelector(".S4")
            .setAttribute(
              "style",
              "height: calc(0.6 * " + window.innerWidth + " * 0.56249816311px)"
            );
          document
            .querySelector(".S4 div.video > iframe")
            .setAttribute(
              "style",
              "height: calc(calc(0.6 * " +
                window.innerWidth +
                " * 0.56249816311px) - 83.7498897866px)"
            );
          document
            .querySelector(".S4 div.video")
            .setAttribute(
              "style",
              "height: calc(calc(0.6 * " +
                window.innerWidth +
                " * 0.56249816311px) + 50px)"
            );
          const ratioX = (window.innerHeight + 70) / window.innerWidth;
          const ratioFull = Math.abs(
            window.innerHeight / 1080 - window.innerWidth / window.innerHeight
          );
          document
            .querySelector(".S15 div.island-rev svg")
            .setAttribute(
              "style",
              "transform: scale(" +
                ratioX +
                ", " +
                (2 + ratioFull) +
                "); -webkit-transform: scale(" +
                ratioX +
                ", " +
                (2 + ratioFull) +
                ");"
            );
          document
            .querySelector(".S15 div.island-rev svg g")
            .setAttribute(
              "style",
              "transform: translate(0px, 1080px) scale(0.1, -0.1); -webkit-transform: translate(0px, 1080px) scale(0.1, -0.1);"
            );
          if (
            (window.orientation && Math.abs(window.orientation) !== 90) ||
            window.innerHeight > window.innerWidth
          ) {
            document.querySelector("main").classList.add("hidden");
            document.getElementById("toLandscape").classList.remove("hidden");
            landscape = false;
          }
          if (
            (window.orientation && Math.abs(window.orientation) === 90) ||
            window.innerHeight <= window.innerWidth
          ) {
            document.getElementById("toLandscape").classList.add("hidden");
            document.querySelector("main").classList.remove("hidden");
            if (landscape === false) {
              document.getElementById("landscapeGood").classList.add("show");
              setTimeout(function () {
                document
                  .getElementById("landscapeGood")
                  .classList.remove("show");
              }, 2500);
            }
            landscape = true;
          } else if (
            (window.orientation && Math.abs(window.orientation) !== 90) ||
            window.innerHeight > window.innerWidth
          ) {
            landscape = false;
            document.querySelector("main").classList.add("hidden");
            document.getElementById("toLandscape").classList.remove("hidden");
          }
        },
        false
      );
      resizeEvent.initUIEvent("resize", true, false, window, 0);
      window.dispatchEvent(resizeEvent);
      const [
        main,
        canvas,
        audioInvitation,
        audioInvitationControls,
        audioInvitationState,
        nodes,
        island,
        nodesArray,
        islands,
        about,
        aboutButton,
        aboutSection,
        logo,
        notes,
        letsDoIt,
      ] = [
        document.querySelector("main"),
        document.createElement("canvas"),
        document.querySelector("#participation audio"),
        document.querySelectorAll("#participation .audio .audio-controls svg"),
        document.querySelector(
          "#participation .audio .audio-controls .audio-state"
        ),
        document.getElementById("nodes"),
        document.getElementById("island"),
        [
          {
            id: "S1",
            moveX: "-50%",
            moveY: "-50%",
            content: "text",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S2",
            moveX: "50%",
            moveY: "-50%",
            content: "text",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S3",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/2004",
            hasBeen: false,
          },
          {
            id: "S4",
            moveX: "50%",
            moveY: "50%",
            content: "video-embed",
            embed: "https://www.youtube.com/embed/iIkl9-6qINk",
            hasBeen: false,
          },
          {
            id: "S5",
            moveX: "0%",
            moveY: "0%",
            content: "video-action",
            embed: "https://ocean-archive.org/embed/1626",
            hasBeen: false,
          },
          {
            id: "S6",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/1991",
            hasBeen: false,
          },
          {
            id: "S7",
            moveX: "0%",
            moveY: "-25%",
            content: "audio",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S8",
            moveX: "0%",
            moveY: "-25%",
            content: "audio",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S9",
            moveX: "-50%",
            moveY: "-50%",
            content: "text",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S10",
            moveX: "25%",
            moveY: "25%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/1989",
            hasBeen: false,
          },
          {
            id: "S11",
            moveX: "50%",
            moveY: "-50%",
            content: "text",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S12",
            moveX: "0%",
            moveY: "0%",
            content: "image-action",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S13",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/1992",
            hasBeen: false,
          },
          {
            id: "S14",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/1993",
            hasBeen: false,
          },
          {
            id: "S15",
            moveX: "0%",
            moveY: "0%",
            content: "video-action",
            embed: "https://ocean-archive.org/embed/1626",
            hasBeen: false,
          },
          {
            id: "S16",
            moveX: "0%",
            moveY: "0%",
            content: "image-action",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S17",
            moveX: "-50%",
            moveY: "-50%",
            content: "video-embed-oa",
            embed: "https://ocean-archive.org/embed/2005",
            hasBeen: false,
          },
          {
            id: "S18",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S19",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S20",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S21",
            moveX: "-50%",
            moveY: "25%",
            content: "image",
            embed: {},
            hasBeen: false,
          },
          {
            id: "S22",
            moveX: "0%",
            moveY: "100%",
            content: "image",
            embed: {},
            hasBeen: false,
          },
        ],
        [].slice.call(
          document.querySelectorAll(".island,#island,.island svg,#myWave")
        ),
        document.getElementById("about"),
        document.querySelector("#about img"),
        document.getElementById("about-section"),
        document.getElementById("logo"),
        document.getElementById("notes"),
        document.getElementById("start-recording"),
      ];
      document.querySelector("body").appendChild(canvas);
      canvas.classList.toggle("hidden");
      const [
        ctx,
        previousLevels,
        secondsRunner,
        secondsThreshold,
        maxSecondsThreshold,
        volumeThreshold,
        minHeight,
      ] = [
        canvas.getContext("2d"),
        new Array(230),
        new Array(),
        5,
        30,
        0.01,
        1.5,
      ];
      function passIntro() {
        document.querySelector("main").classList.toggle("cover");
        document
          .getElementById("intro")
          .classList.toggle("intro-feedback-move");
        document.querySelector("main").classList.toggle("background-move-1");
        document.getElementById("participation").classList.toggle("hidden");
        document
          .getElementById("participation-feedback")
          .classList.toggle("start");
        document
          .getElementById("participation")
          .classList.toggle("participation-feedback-move-in");
        document.body.appendChild(document.createElement("script")).src =
          "micInputHandler.js";
        function togglePlay(close) {
          if (audioInvitationIsPlaying === true) {
            audioInvitationControls[0].classList.remove("hide");
            audioInvitationControls[1].classList.add("hide");
            if (close !== "stopped") {
              audioInvitation.pause();
            } else {
              audioInvitation.currentTime = 0;
              audioInvitationIsPlaying = false;
            }
          } else if (audioInvitationIsPlaying === false) {
            audioInvitationControls[0].classList.add("hide");
            audioInvitationControls[1].classList.remove("hide");
            audioInvitation.play();
          }
        }
        let audioInvitationIsPlaying = false;
        audioInvitation.onplaying = function () {
          audioInvitationIsPlaying = true;
        };
        audioInvitation.onpause = function () {
          audioInvitationIsPlaying = false;
        };
        audioInvitation.onended = function () {
          audioInvitationIsPlaying = true;
          togglePlay("stopped");
        };
        audioInvitationState.addEventListener("click", function () {
          togglePlay("play");
        });
        if (audioInvitation.readyState > 0) {
          audioInvitation.play();
          audioInvitation.pause();
        }
        setTimeout(function () {
          if (audioInvitation.readyState > 0) {
            togglePlay("play");
          }
          document.getElementById("intro").classList.toggle("hidden");
          document.querySelector("main").classList.toggle("cover");
        }, 2000);
      }
      function passParticipation() {
        audioInvitation.pause();
        document.querySelector("main").classList.toggle("cover");
        document.querySelector("main").classList.toggle("background-move-2");
        [
          "participation-feedback-move-in",
          "participation-feedback-move-out",
        ].map((t) =>
          document.getElementById("participation").classList.toggle(t)
        );
        document.getElementById("recording").classList.toggle("hidden");
        document.getElementById("recording-feedback").classList.toggle("start");
        document
          .getElementById("recording")
          .classList.toggle("recording-feedback-move-in");
        setTimeout(function () {
          document.getElementById("participation").classList.toggle("hidden");
          document.querySelector("main").classList.toggle("cover");
        }, 2000);
      }
      letsDoIt.addEventListener("click", function clean(event) {
        if (recordingHappened === false) {
          document
            .getElementById("participation")
            .classList.toggle("participation-feedback-move-out");
          document.querySelector("body > canvas").classList.toggle("hidden");
          document.querySelector("main").classList.toggle("cover");
          document.querySelector("main").classList.toggle("background-move-3");
          letsDoIt.classList.toggle("fast-end");
          document
            .getElementById("skip-recording")
            .classList.toggle("fast-end");
          setTimeout(function () {
            document
              .querySelectorAll("#recording-message span")
              .forEach(function (e) {
                e.classList.toggle("fast-end");
              });
          }, 1000);
          setTimeout(function () {
            document.querySelector("main").classList.toggle("cover");
            document
              .getElementById("recording-feedback")
              .classList.toggle("start");
            handleMicrophoneInput();
          }, 2000);
        }
        recordingHappened = true;
        event.currentTarget.removeEventListener(event.type, clean);
      });
      function goToContent(skipped, canvasSnap) {
        audioInvitation.pause();
        document
          .getElementById("recording")
          .classList.remove("recording-feedback-move-in");
        document
          .getElementById("participation")
          .classList.remove("participation-feedback-move-in");
        document.getElementById("recording").classList.add("hidden");
        document.getElementById("participation").classList.add("hidden");
        document.querySelector("main").classList.toggle("cover");
        showContent();
        document.querySelector("body").classList.toggle("out");
        if (skipped === "yes") {
          document.querySelector("main").classList.toggle("background-move-4");
          setTimeout(function () {
            document
              .querySelectorAll(
                "#participation,#participation-feedback,#participation-message"
              )
              .forEach(function (e) {
                e.classList.toggle("hidden");
              });
          }, 2000);
          setTimeout(function () {
            document
              .querySelectorAll("#notes .welcome span:not(#thankyou)")
              .forEach(function (e) {
                e.classList.toggle("hidden");
                e.classList.toggle("start");
              });
          }, 4000);
        } else if (skipped === "no") {
          setTimeout(function () {
            document.getElementById("myWave").classList.toggle("show");
            document.getElementById("myWave").classList.toggle("hidden");
            document
              .querySelectorAll("#notes .welcome span")
              .forEach(function (e) {
                e.classList.toggle("hidden");
                e.classList.toggle("start");
              });
          }, 4000);
        }
      }
      function showContent() {
        const OAembeds = nodesArray.filter((n) =>
          ["S3", "S6", "S10", "S13", "S14", "S17"].includes(n.id)
        );
        OAembeds.forEach((el) => {
          const iframe = document.querySelector(
            "." + el.id + " div.video > iframe"
          );
          iframe.setAttribute("src", el.embed);
          iframe.addEventListener("load", function (e) {
            [];
            const iframeBody = e.target.contentDocument.body;
            setTimeout(function () {
              console.log("here too");
              if (iframeBody) {
                console.log(iframeBody);
                const video = iframeBody.querySelector(
                  "#root #body div #embed_item > div.file.h-100.row > div > div > video"
                );
                video.currentTime = 0;
                video.muted = false;
                console.log(video.paused());
                video.pause();
                console.log(video.paused());
              }
            }, 2000);
          });
        });

        notes.classList.toggle("hidden");
        setTimeout(function () {
          island.classList.remove("hidden");
        }, 4000);
        setTimeout(function () {
          nodes.classList.remove("hidden");
          document.querySelectorAll("#notes .welcome").forEach(function (e) {
            e.classList.toggle("hidden");
          });
          about.classList.remove("hidden");
          aboutButton.classList.add("blinker");
          document.querySelector("main").classList.toggle("cover");
        }, 6000);
      }
      function moveIt(id, where, moveX, moveY, content) {
        if (firstClick === false) {
          firstClick = true;
          notes.classList.toggle("hidden");
          aboutButton.classList.remove("blinker");
        }
        logo.classList.toggle("hidden");
        if (where === "out") {
          about.classList.add("hidden");
          document.querySelector("." + id).classList.remove("hidden");
          setTimeout(function () {
            document.getElementById(id).setAttribute("filter", "url(#filter)");
          }, 500);
          if (
            nodesArray.filter((node) => node.hasBeen === true).length === 22
          ) {
            document
              .querySelectorAll("#notes .goodbye span")
              .forEach(function (e) {
                e.classList.add("hidden");
                e.classList.remove("start");
              });
            notes.classList.add("hidden");
          }
        } else {
          if (
            nodesArray.filter((node) => node.hasBeen === true).length === 22
          ) {
            document.querySelectorAll("#notes .welcome").forEach(function (e) {
              e.classList.remove("start");
              e.classList.add("hidden");
            });
            document
              .querySelector("#notes .goodbye")
              .classList.remove("hidden");
            document
              .querySelectorAll("#notes .goodbye span")
              .forEach(function (e) {
                e.classList.toggle("hidden");
                e.classList.toggle("start");
              });
            notes.classList.toggle("hidden");
          }
          document.querySelector("." + id).classList.add("hidden");
          about.classList.remove("hidden");
        }
        islands.map((i) => {
          i.style.transition = "all 0.5s ease";
          i.style.left = moveX;
          i.style.top = moveY;
          if (where === "out") {
            i.style.cursor = "default";
            i.setAttribute("pointer-events", "none");
          } else {
            i.setAttribute("pointer-events", "auto");
          }
        });
      }
      function toggleNode(id) {
        const node = nodesArray.find((n) => n.id === id);
        const nodeIndex = nodesArray.findIndex((node) => node.id === id);
        nodesArray[nodeIndex].hasBeen = true;
        const el = document.getElementById(id);
        const close = document.querySelector("div." + el.id + " div div.close");
        moveIt(el.id, "out", node.moveX, node.moveY, node.content);
        const nodeSpace = document.querySelector("div." + el.id);
        if (node.content === "image") {
          close.addEventListener("click", function clean(event) {
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "image-action") {
          if (el.id === "S12") {
            const img = nodeSpace.querySelector("div.image-action img");
            nodes.classList.add("hidden");
            island.classList.remove("start");
            island.classList.add("hidden");
            nodeSpace
              .querySelector("div.image-action img")
              .classList.toggle("hidden");
            setTimeout(function () {
              const transform =
                "translate(calc(" +
                window.innerWidth / 2529 +
                " * 552px),calc(" +
                window.innerHeight / 1949 +
                " * 545px)) rotate(-273deg) translate(calc(" +
                window.innerWidth / 2529 +
                " * 7 * 622px),calc(" +
                window.innerHeight / 1949 +
                " * 7 * 956px)) scale(7)";
              img.setAttribute(
                "style",
                "transform: " +
                  transform +
                  "; -webkit-transform: " +
                  transform +
                  "; -ms-transform: " +
                  transform +
                  ";"
              );
            }, 4000);
            setTimeout(function () {
              island.classList.add("start");
              close.classList.add("start");
            }, 6000);
            setTimeout(function () {
              island.classList.remove("hidden");
              close.classList.remove("hidden");
              close.classList.remove("start");
            }, 8000);
            close.addEventListener("click", function clean(event) {
              nodes.classList.remove("hidden");
              island.classList.remove("hidden");
              close.classList.add("hidden");
              nodeSpace
                .querySelector("div.image-action img")
                .classList.toggle("scale");
              nodeSpace
                .querySelector("div.image-action img")
                .classList.toggle("hidden");
              const transform =
                "translate(0px,0px) rotate(0deg) translate(0px,0px) scale(1)";
              img.setAttribute(
                "style",
                "transform: " +
                  transform +
                  "; -webkit-transform: " +
                  transform +
                  "; -ms-transform: " +
                  transform +
                  ";"
              );
              moveIt(el.id, "back", "0%", "0%", node.content);
              event.currentTarget.removeEventListener(event.type, clean);
            });
          } else if (el.id === "S16") {
            setTimeout(function () {
              islands.map((i) => {
                i.classList.toggle("hidden");
              });
              ["hidden", "notyet"].map((c) =>
                nodeSpace
                  .querySelectorAll("div.image-action img")[0]
                  .classList.toggle(c)
              );
            }, 1000);
            setTimeout(function () {
              ["hidden", "notyet"].map((c) =>
                nodeSpace
                  .querySelectorAll("div.image-action img")[1]
                  .classList.toggle(c)
              );
              close.classList.add("start");
            }, 2500);
            setTimeout(function () {
              ["hidden", "notyet"].map((c) =>
                nodeSpace
                  .querySelectorAll("div.image-action img")[2]
                  .classList.toggle(c)
              );
              close.classList.remove("hidden");
              close.classList.remove("start");
            }, 4000);

            close.addEventListener("click", function clean(event) {
              close.classList.add("hidden");
              islands.map((i) => {
                i.classList.toggle("hidden");
              });
              nodeSpace
                .querySelectorAll("div.image-action img")
                .forEach((e) => {
                  e.classList.toggle("hidden");
                  e.classList.toggle("notyet");
                });
              moveIt(el.id, "back", "0%", "0%", node.content);
              event.currentTarget.removeEventListener(event.type, clean);
            });
          }
        } else if (
          (node.content === "video") |
          (node.content === "video-action")
        ) {
          const videoContainer = nodeSpace.querySelector("div");
          const video = videoContainer.querySelector(".video-source");

          if ((el.id === "S15") | (el.id === "S5")) {
            nodeSpace
              .querySelector("div.island-rev")
              .classList.remove("hidden");
            function removeControls(video) {
              video.removeAttribute("controls");
            }
            video.play();
            window.onload = removeControls(video);
            if (video.paused) {
              video.play();
              video.currentTime = 0;
            }
          }
          close.addEventListener("click", function clean(event) {
            if (el.id === "S15") {
              video.pause();
            }
            if (node.content === "video-action") {
              nodeSpace
                .querySelector("div.island-rev")
                .classList.remove("hidden");
              nodeSpace.querySelector("div.island-rev").classList.add("hidden");
            } else if (node.content === "video") {
              video.pause();
            }
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "video-embed") {
          const video = document.getElementById(el.id + "_video");
          close.addEventListener("click", function clean(event) {
            video.contentWindow.postMessage(
              '{"event":"command","func":"stopVideo","args":""}',
              "*"
            );
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "video-embed-oa") {
          const iframe = nodeSpace.querySelector("div.video > iframe");
          console.log(iframe);
          const iframeBody = e.target.contentDocument.body;
          console.log(iframeBody);
          const video = iframeBody.querySelector(
            "#root #body div #embed_item > div.file.h-100.row > div > div > video"
          );
          console.log(video);
          console.log(video.paused());
          video.currentTime = 0;
          console.log(video.paused());
          video.play();

          close.addEventListener("click", function clean(event) {
            console.log(video);
            console.log(video.paused());
            video.currentTime = 0;
            video.pause();
            console.log(video.paused());
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else if (node.content === "audio") {
          function togglePlay(close) {
            if (audioIsPlaying === true) {
              audioControls[0].classList.remove("hide");
              audioControls[1].classList.add("hide");
              if (close !== "stopped") {
                audio.pause();
              } else {
                audio.currentTime = 0;
                audioIsPlaying = false;
              }
            } else {
              audioControls[0].classList.add("hide");
              audioControls[1].classList.remove("hide");
              audio.play();
            }
          }
          const audio = nodeSpace.querySelector("audio");
          const audioControls = nodeSpace.querySelectorAll(
            ".audio .audio-controls svg"
          );
          const audioState = nodeSpace.querySelector(
            ".audio .audio-controls .audio-state"
          );
          let audioIsPlaying = false;
          audio.onplaying = function () {
            audioIsPlaying = true;
          };
          audio.onpause = function () {
            audioIsPlaying = false;
          };
          audio.onended = function () {
            audioIsPlaying = true;
            togglePlay("stopped");
          };
          audioState.onclick = function (event) {
            togglePlay("play");
          };
          if (audio.readyState > 0) {
            togglePlay("play");
          }
          close.addEventListener("click", function clean(event) {
            audioIsPlaying = true;
            togglePlay("play");
            audio.currentTime = 0;
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        } else {
          close.addEventListener("click", function clean(event) {
            moveIt(el.id, "back", "0%", "0%", node.content);
            event.currentTarget.removeEventListener(event.type, clean);
          });
        }
      }
      aboutButton.addEventListener("click", function () {
        [logo, aboutButton].forEach((e) => {
          e.classList.toggle("invert");
        });
        aboutButton.classList.remove("blinker");
        aboutSection.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
